{"version":3,"file":"static/webpack/static/development/pages/index.js.5c5181f2b038af10e0c7.hot-update.js","sources":["webpack:///./components/comparison.js"],"sourcesContent":["import React, {useState} from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nconst diffsListAsHtmlContentOnly = require('stt-align-node').diffsListAsHtmlContentOnly;\nconst diffsCount = require('stt-align-node').diffsCount;\n\nexport default function Comparison(props) { // Declare a new state variable, which we'll call \"count\"\n    const [comparisonData, setComparisonData] = useState(0);\n    const [htmlDiffContent, setHtmlDiffContent] = useState('');\n    const [diffCount, setDiffCount] = useState(null);\n    const [comparisonName, setComparisonName] = useState(`Click to set comparison name ${props.n}`);\n\n    \n\n    const handleAddComparisonData = (e) => {\n        const reader = new FileReader();\n        reader.onload = ()=>{\n          const text = reader.result;\n          // const node = document.getElementById('output');\n          // node.innerText = text;\n          const tmpComparisonData = JSON.parse(text);\n          console.log('tmpComparisonData',tmpComparisonData)\n          setComparisonData(tmpComparisonData);\n          console.log(reader.result.substring(0, 200));\n          console.log('tmpComparisonData',tmpComparisonData);\n          const tmpHtmlDiffContent = diffsListAsHtmlContentOnly(tmpComparisonData, props.baseText)\n          setHtmlDiffContent(tmpHtmlDiffContent);\n          const resultCount = diffsCount( tmpComparisonData, props.baseText);\n          setDiffCount(resultCount)\n        };\n        reader.readAsText(e.target.files[0]);\n\n     \n    }\n\n    const handleRemove = ()=>{\n        console.log('handleRemove',props.n)\n        props.handleRemoveComparison(props.n)\n    }\n\n    const handleSetComparisonName = ()=>{\n        const resp = prompt('comparison name')\n        if(resp){\n            setComparisonName(resp)\n        }\n    }\n    return (\n        <div>\n            <h2 onClick={handleSetComparisonName}>{comparisonName} {props.n}</h2>\n            <Button onClick={handleRemove}>Remove</Button>\n            {/* <p>You clicked {count} times</p> */}\n            <Form.File>\n                <Form.File.Label>STT Transcription<code>.json</code>\n                </Form.File.Label>\n                <Form.File.Input onChange={handleAddComparisonData}/>\n            </Form.File>\n            <section>\n                {diffCount && <>\n                <ul>\n                    <li>\n                        <span className=\"total\">Total (base text):</span> {diffCount.baseTextTotalWordCount}\n                    </li>\n                    <li>\n                        <span className=\"equal\">equal:</span> {diffCount.equal}\n                    </li>\n                    <li>\n                        <span className=\"insert\">insert:</span> {diffCount.insert}\n                    </li>\n                    <li>\n                        <span class=\"replaceSTT \">replace:</span> {diffCount.replace}\n                    </li>\n                    <li>\n                        <span className=\"delete\">delete:</span> {diffCount.delete}\n                    </li>\n                    <li>\n                        <strong title={'Word Error Rate, a measure for benchmarking stt transcript against accurate base text, lower WER indicates higher accuracy'}>WER:</strong>{(diffCount.replace + diffCount.delete + diffCount.insert)/diffCount.baseTextTotalWordCount}\n                    </li>\n                </ul>\n                </>}\n            </section>\n            <div dangerouslySetInnerHTML={{__html: htmlDiffContent}} />\n            {/* {htmlDiffContent} */}\n        </div>\n    );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;A","sourceRoot":""}